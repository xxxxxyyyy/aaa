---
title: Command
layout: post
date: '2018-10-30'
categories: 内网渗透
permalink: "/archivers/command"
description: 整理的一些内网渗透基础命令
---

整理一些常用基础命令
<!--more-->
* 目录
{:toc}

## 0x00 Windows


`ipconfig /all` 获取获取域名、IP地址、DHCP服务器、网关、MAC地址、主机名

`net time /domain` 查看域名、时间

`net view /domain` 查看域内所有共享

`net config workstation`  查看域名、机器名等

`net user /domain`  查看域内有哪些用户

`net user 用户名 /domain`  查看账户信息

`net group "domain admins" /domain` 查看当前域的管理用户

`dsquery server`查看所有域控制器

`dsquery subnet`查看域内内子网

`dsquery group`查看域内工作组

`dsquery site` 查看域内站点

`reg save hklm\sam sam.hive` 导出用户组信息、权限配置

`reg save hklm\system system.hive`导出SYSKEY

`net use \\目标IP\ipc$ 密码 /u:用户名`连接目标机器

`at \\目标IP 21:31 c:\server.exe`在某个时间启动某个应用

`wmic /node:"目标IP" /password:"123456" /user:"admin"`  连接目标机器

`psexec.exe \\目标IP -u username -p password -s cmd`在目标机器上执行cmd


## 0x01 Linux

`lastlog`  查看登录历史记录 

跨站脚本攻击的英文全称是Cross Site Script，为了和样式表区分，缩写为XSS。发生的原因是网站将用户输入的内容输出到页面上，在这个过程中可能有恶意代码被浏览器执行。跨站脚本攻击,它指的是恶意攻击者往Web页面里插入恶意html代码，当用户浏览该页之时，嵌入其中Web里面的html代码会被执行，从而达到恶意用户的特殊目的。XSS属于被动式的攻击，因为其被动且不好利用，所以许多人常呼略其危害性。而本文主要讲的是利用XSS得到目标服务器的shell。技术虽然是老技术，但是其思路希望对大家有帮助。已知的跨站脚本攻击漏洞有三种：1）存储式；2）反射式；3）基于DOM。

